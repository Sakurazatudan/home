<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌸さくら雑談王国🌸 - ログイン</title>
     <link rel="icon" href="favicon.ico" type="image/ico">
    <link rel="stylesheet" href="style.css">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-1E88T907Y4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-1E88T907Y4');
</script>
</head>
<body>
    <div id="login-form">
        <h1>ログイン</h1>
        <p>このサイトを表示するにはログインが必要です。</p>
        <input type="text" id="admin-id" placeholder="管理者ID">
        <input type="password" id="password" placeholder="パスワード">
        <button onclick="checkLogin()">ログイン</button>
    </div>

     <script>
        async function hashPassword(password) {
            let encoder = new TextEncoder();
            let data = encoder.encode(password);
            let hashBuffer = await crypto.subtle.digest("SHA-256", data);
            let hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }
<script>
        async function hashPassword(password) {
            let encoder = new TextEncoder();
            let data = encoder.encode(password);
            let hashBuffer = await crypto.subtle.digest("SHA-256", data);
            let hashArray = Array.from(new Uint8Array(hashBuffer));
            return hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
        }

        async function login() {
            let inputUsername = document.getElementById("username").value;
            let inputPassword = document.getElementById("password").value;
            let hashedInput = await hashPassword(inputPassword);

            // 事前に設定した ID & ハッシュ化されたパスワード
            const correctUsername = "sakurazatudanoukoku";
            const correctHash = "cd6502842c2c454327548e44f622f861f313eba73df0d86affc1e0ad6efd41fc"; // "mypassword123" の SHA-256

            if (inputUsername === correctUsername && hashedInput === correctHash) {
                window.location.href = "main.html"; // メインページに遷移
            } else {
                document.getElementById("message").innerText = "IDまたはパスワードが間違っています";
            }
        }
    </script>
</body>
</html>
